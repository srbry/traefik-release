---
name: traefik

templates:
  traefik.toml.erb: config/traefik.toml
  set_consul_kv.erb: bin/set_consul_kv
  ctl: bin/ctl

packages:
- traefik

consumes:
- name: atc
  type: atc
  optional: true

- name: consul_common
  type: consul_common
  optional: true

- name: consul_server
  type: consul_server
  optional: true

- name: consul_client
  type: consul_client
  optional: true

properties:
  mode:
    description: Traefik config mode, currently only supports "web"
    default: web

  read_only:
    description: Set the Traefik REST API to read-only mode.
    default: true

  port:
    description: Traefik web admin port
    default: 8080
